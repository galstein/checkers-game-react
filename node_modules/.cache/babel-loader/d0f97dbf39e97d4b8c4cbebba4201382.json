{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\galst\\\\Desktop\\\\Projects\\\\checkers-react\\\\src\\\\components\\\\App.jsx\";\nimport React, { Component } from 'react'; //import Logic from \"./Logic\";\n\nimport Board from \"./Board\";\nconst PLAYER_ONE = 1; //const PLAYER_TWO = 2;\n\n/*\r\nconst PLAYERS = {\r\n    [PLAYER_ONE]: {\r\n        name: \"Player One\",\r\n        class: \"player-one\"\r\n    },\r\n    [PLAYER_TWO]: {\r\n        name: \"Player Two\",\r\n        class: \"player-two\"\r\n    }\r\n}\r\n*/\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      board: this.getBoard(),\n      checkers: this.getCheckers(),\n      turn: PLAYER_ONE,\n      selectedSquare: null,\n      winner: null\n    };\n  }\n\n  getBoard() {\n    let board = [[null, 12, null, 13, null, 14, null, 15], [16, null, 17, null, 18, null, 19, null], [null, 20, null, 21, null, 22, null, 23], [null, null, null, null, null, null, null, null], [null, null, null, null, null, null, null, null], [8, null, 9, null, 10, null, 11, null], [null, 4, null, 5, null, 6, null, 7], [0, null, 1, null, 2, null, 3, null]];\n    return board;\n  }\n\n  getCheckers() {\n    let checkers = [{\n      player: 1,\n      isKing: false,\n      row: 7,\n      col: 0,\n      removed: false\n    }, {\n      player: 1,\n      isKing: false,\n      row: 7,\n      col: 2,\n      removed: false\n    }, {\n      player: 1,\n      isKing: false,\n      row: 7,\n      col: 4,\n      removed: false\n    }, {\n      player: 1,\n      isKing: false,\n      row: 7,\n      col: 6,\n      removed: false\n    }, {\n      player: 1,\n      isKing: false,\n      row: 6,\n      col: 1,\n      removed: false\n    }, {\n      player: 1,\n      isKing: false,\n      row: 6,\n      col: 3,\n      removed: false\n    }, {\n      player: 1,\n      isKing: false,\n      row: 6,\n      col: 5,\n      removed: false\n    }, {\n      player: 1,\n      isKing: false,\n      row: 6,\n      col: 7,\n      removed: false\n    }, {\n      player: 1,\n      isKing: false,\n      row: 5,\n      col: 0,\n      removed: false\n    }, {\n      player: 1,\n      isKing: false,\n      row: 5,\n      col: 2,\n      removed: false\n    }, {\n      player: 1,\n      isKing: false,\n      row: 5,\n      col: 4,\n      removed: false\n    }, {\n      player: 1,\n      isKing: false,\n      row: 5,\n      col: 6,\n      removed: false\n    }, {\n      player: 2,\n      isKing: false,\n      row: 0,\n      col: 1,\n      removed: false\n    }, {\n      player: 2,\n      isKing: false,\n      row: 0,\n      col: 3,\n      removed: false\n    }, {\n      player: 2,\n      isKing: false,\n      row: 0,\n      col: 5,\n      removed: false\n    }, {\n      player: 2,\n      isKing: false,\n      row: 0,\n      col: 7,\n      removed: false\n    }, {\n      player: 2,\n      isKing: false,\n      row: 1,\n      col: 0,\n      removed: false\n    }, {\n      player: 2,\n      isKing: false,\n      row: 1,\n      col: 2,\n      removed: false\n    }, {\n      player: 2,\n      isKing: false,\n      row: 1,\n      col: 4,\n      removed: false\n    }, {\n      player: 2,\n      isKing: false,\n      row: 1,\n      col: 6,\n      removed: false\n    }, {\n      player: 2,\n      isKing: false,\n      row: 2,\n      col: 1,\n      removed: false\n    }, {\n      player: 2,\n      isKing: false,\n      row: 2,\n      col: 3,\n      removed: false\n    }, {\n      player: 2,\n      isKing: false,\n      row: 2,\n      col: 5,\n      removed: false\n    }, {\n      player: 2,\n      isKing: false,\n      row: 2,\n      col: 7,\n      removed: false\n    }];\n    return checkers;\n  }\n\n  setSquare(row, col) {\n    this.setState({\n      selectedSquare: {\n        row: row,\n        col: col\n      }\n    });\n  }\n\n  selectSquare(row, col) {\n    //let logicState = this.state.logic.state;\n    let isChecker = this.state.board[row][col];\n    let player = isChecker && this.state.checkers[isChecker].player;\n\n    if (!this.state.selectedSquare && isChecker && player === this.state.turn) {\n      this.setSquare(row, col);\n      console.log(\"This is resource square of current player\", row, col);\n    } else if (this.state.selectedSquare) {\n      console.log(\"This is destination square of current player\", row, col);\n      this.handleMove(row, col);\n    } else {\n      console.log(\"This square is OR null OR not of current player\", row, col);\n    }\n  }\n\n  handleMove(row, col) {\n    //let logic = this.state.logic;\n    // let logicState = this.state.logic.state;\n    let checker = this.state.board[this.state.selectedSquare.row][this.state.selectedSquare.col];\n\n    if (this.canMoveChecker(checker, row, col)) {\n      console.log(\"Can move checker!!!\");\n    } else {\n      console.log(\"Can't move checker\");\n    }\n  }\n\n  canMoveChecker(checker, row, col) {\n    let player = this.state.checkers[checker].player;\n    let playerMoves = this.getAllMoves(player);\n    let checkerMoves = this.getMoves(checker);\n    let playerJumps = playerMoves.jumps;\n    let checkerJumps = checkerMoves.jumps;\n\n    if (playerJumps.length && !checkerJumps.length) {\n      checkerMoves = {\n        singles: [],\n        jumps: []\n      };\n    }\n\n    let moves = checkerMoves;\n    let movesToCheck = moves.jumps.length ? moves.jumps : moves.singles;\n\n    for (let move of movesToCheck) {\n      if (move.row === row && move.col === col) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  getAllMoves(player) {\n    let moves = {\n      jumps: [],\n      singles: []\n    };\n    let checkers = this.state.checkers;\n    checkers.forEach((checker, i) => {\n      if (checker.player === player && !checker.removed) {\n        let cMoves = this.getMoves(i);\n        moves.jumps = moves.jumps.concat(cMoves.jumps);\n        moves.singles = moves.singles.concat(cMoves.singles);\n      }\n    }); //console.log(\"moves of player \" + player, JSON.stringify(moves));\n\n    return moves;\n  }\n\n  getMoves(checker) {\n    let singles = [];\n    let jumps = [];\n    let c = this.state.checkers[checker]; //console.log(\" 住驻专 :\",checker);\n\n    let topRow = c.row - 1;\n    let bottomRow = c.row + 1;\n    let leftCol = c.col - 1;\n    let rightCol = c.col + 1;\n\n    if (c.player === this.playerOne || c.isKing) {\n      //console.log(\"this is checker:\",checker,\" the valus to checkJumps:\",topRow, topRow - 1, leftCol, rightCol, leftCol - 1, rightCol + 1, c);\n      jumps = this.checkJumps(topRow, topRow - 1, leftCol, rightCol, leftCol - 1, rightCol + 1, c); //c.player\n\n      if (!jumps.length) {\n        singles = this.checkAdjacent(topRow, leftCol, rightCol, c);\n      }\n    }\n\n    if (c.player === this.playerTwo || c.isKing) {\n      jumps = jumps.concat(this.checkJumps(bottomRow, bottomRow + 1, leftCol, rightCol, leftCol - 1, rightCol + 1, c)); //c.player\n\n      if (!jumps.length) {\n        singles = singles.concat(this.checkAdjacent(bottomRow, leftCol, rightCol, c));\n      }\n    } //console.log(\"转拽驻抓 砖爪转 转  转砖专 专注\",singles);\n\n    /*\r\n    if (jumps.length){\r\n        console.log(\" 住驻专 :\",checker);\r\n        console.log(\"转拽驻抓 砖爪转 转 转 砖注\",jumps);\r\n    }\r\n    */\n\n\n    return {\n      singles: singles,\n      jumps: jumps\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    }, \"Welcome to checkers game!\"), React.createElement(Board, {\n      board: this.state.board,\n      checkers: this.state.checkers,\n      selectSquare: this.selectSquare.bind(this),\n      selectedSquare: this.state.selectedSquare,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["C:/Users/galst/Desktop/Projects/checkers-react/src/components/App.jsx"],"names":["React","Component","Board","PLAYER_ONE","App","constructor","state","board","getBoard","checkers","getCheckers","turn","selectedSquare","winner","player","isKing","row","col","removed","setSquare","setState","selectSquare","isChecker","console","log","handleMove","checker","canMoveChecker","playerMoves","getAllMoves","checkerMoves","getMoves","playerJumps","jumps","checkerJumps","length","singles","moves","movesToCheck","move","forEach","i","cMoves","concat","c","topRow","bottomRow","leftCol","rightCol","playerOne","checkJumps","checkAdjacent","playerTwo","render","bind"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\n//import Logic from \"./Logic\";\r\nimport Board from \"./Board\";\r\n\r\nconst PLAYER_ONE = 1;\r\n//const PLAYER_TWO = 2;\r\n/*\r\nconst PLAYERS = {\r\n    [PLAYER_ONE]: {\r\n        name: \"Player One\",\r\n        class: \"player-one\"\r\n    },\r\n    [PLAYER_TWO]: {\r\n        name: \"Player Two\",\r\n        class: \"player-two\"\r\n    }\r\n}\r\n*/\r\n\r\nclass App extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = { board: this.getBoard(),\r\n                       checkers: this.getCheckers(), \r\n                       turn: PLAYER_ONE, \r\n                       selectedSquare: null, \r\n                       winner: null};\r\n    \r\n      }\r\n\r\n      getBoard(){\r\n        let board = [\r\n                    [null, 12, null, 13, null, 14, null, 15],\r\n                    [16, null, 17, null, 18, null, 19, null],\r\n                    [null, 20, null, 21, null, 22, null, 23],\r\n                    [null, null, null, null, null, null, null, null],\r\n                    [null, null, null, null, null, null, null, null],\r\n                    [8, null, 9, null, 10, null, 11, null],\r\n                    [null, 4, null, 5, null, 6, null, 7],\r\n                    [0, null, 1, null, 2, null, 3, null]\r\n        ]\r\n        return board;\r\n    }\r\n\r\n    getCheckers(){\r\n        let checkers = [{player: 1,isKing: false,row: 7,col: 0,removed: false}, \r\n                        {player: 1,isKing: false,row: 7,col: 2,removed: false},\r\n                        {player: 1,isKing: false,row: 7,col: 4,removed: false},\r\n                        {player: 1,isKing: false,row: 7,col: 6,removed: false},\r\n                        {player: 1,isKing: false,row: 6,col: 1,removed: false},\r\n                        {player: 1,isKing: false,row: 6,col: 3,removed: false},\r\n                        {player: 1,isKing: false,row: 6,col: 5,removed: false},\r\n                        {player: 1,isKing: false,row: 6,col: 7,removed: false},\r\n                        {player: 1,isKing: false,row: 5,col: 0,removed: false},\r\n                        {player: 1,isKing: false,row: 5,col: 2,removed: false},\r\n                        {player: 1,isKing: false,row: 5,col: 4,removed: false},\r\n                        {player: 1,isKing: false,row: 5,col: 6,removed: false},\r\n                        {player: 2,isKing: false,row: 0,col: 1,removed: false},\r\n                        {player: 2,isKing: false,row: 0,col: 3,removed: false},\r\n                        {player: 2,isKing: false,row: 0,col: 5,removed: false},\r\n                        {player: 2,isKing: false,row: 0,col: 7,removed: false},\r\n                        {player: 2,isKing: false,row: 1,col: 0,removed: false},\r\n                        {player: 2,isKing: false,row: 1,col: 2,removed: false},\r\n                        {player: 2,isKing: false,row: 1,col: 4,removed: false},\r\n                        {player: 2,isKing: false,row: 1,col: 6,removed: false},\r\n                        {player: 2,isKing: false,row: 2,col: 1,removed: false},\r\n                        {player: 2,isKing: false,row: 2,col: 3,removed: false},\r\n                        {player: 2,isKing: false,row: 2,col: 5,removed: false},\r\n                        {player: 2,isKing: false,row: 2,col: 7,removed: false}         \r\n            ]\r\n            return checkers;\r\n        }\r\n\r\n      setSquare(row,col){\r\n          this.setState({selectedSquare: {row: row, col: col}});\r\n      }\r\n\r\n      selectSquare(row,col){\r\n        //let logicState = this.state.logic.state;\r\n        let isChecker = this.state.board[row][col];\r\n        let player = isChecker && this.state.checkers[isChecker].player;\r\n        if(!this.state.selectedSquare && isChecker && player === this.state.turn){\r\n            this.setSquare(row,col);\r\n            console.log(\"This is resource square of current player\", row, col);\r\n        }\r\n        else if(this.state.selectedSquare){\r\n            console.log(\"This is destination square of current player\", row, col);\r\n            this.handleMove(row,col);\r\n        }\r\n        else{\r\n            console.log(\"This square is OR null OR not of current player\", row, col);\r\n        }\r\n    }\r\n\r\n    handleMove(row,col){\r\n        //let logic = this.state.logic;\r\n       // let logicState = this.state.logic.state;\r\n        let checker = this.state.board[this.state.selectedSquare.row][this.state.selectedSquare.col];\r\n        if(this.canMoveChecker(checker,row,col)){\r\n            console.log(\"Can move checker!!!\");\r\n        }\r\n        else{\r\n            console.log(\"Can't move checker\");\r\n        }\r\n    }\r\n\r\n    canMoveChecker(checker,row,col){\r\n        let player = this.state.checkers[checker].player;\r\n        let playerMoves = this.getAllMoves(player);\r\n        let checkerMoves = this.getMoves(checker);\r\n        let playerJumps = playerMoves.jumps;\r\n        let checkerJumps = checkerMoves.jumps;\r\n        if (playerJumps.length && !checkerJumps.length) {\r\n            checkerMoves = {\r\n                singles: [],\r\n                jumps: []\r\n            };\r\n        }\r\n        let moves = checkerMoves;\r\n        let movesToCheck = moves.jumps.length ? moves.jumps : moves.singles;\r\n        for (let move of movesToCheck) {\r\n            if (move.row === row && move.col === col) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    getAllMoves(player) {\r\n        let moves = {\r\n            jumps: [],\r\n            singles: []\r\n        };\r\n        let checkers = this.state.checkers;\r\n        checkers.forEach((checker, i) => {\r\n            if (checker.player === player && !checker.removed) {\r\n                let cMoves = this.getMoves(i);\r\n                moves.jumps = (moves.jumps).concat(cMoves.jumps);\r\n                moves.singles = (moves.singles).concat(cMoves.singles);\r\n            }\r\n        });\r\n        //console.log(\"moves of player \" + player, JSON.stringify(moves));\r\n        return moves;\r\n    }\r\n\r\n    getMoves(checker) {\r\n        let singles = [];\r\n        let jumps = [];\r\n        let c = this.state.checkers[checker];\r\n        //console.log(\" 住驻专 :\",checker);\r\n    \r\n        let topRow = c.row - 1;\r\n        let bottomRow = c.row + 1;\r\n        let leftCol = c.col - 1;\r\n        let rightCol = c.col + 1;\r\n    \r\n        if (c.player === this.playerOne || c.isKing) {\r\n            //console.log(\"this is checker:\",checker,\" the valus to checkJumps:\",topRow, topRow - 1, leftCol, rightCol, leftCol - 1, rightCol + 1, c);\r\n            \r\n            jumps = this.checkJumps(topRow, topRow - 1, leftCol, rightCol, leftCol - 1, rightCol + 1, c);//c.player\r\n            if (!jumps.length) {\r\n                singles = this.checkAdjacent(topRow, leftCol, rightCol, c);\r\n            }\r\n        }\r\n        if (c.player === this.playerTwo || c.isKing) {\r\n            jumps = jumps.concat(this.checkJumps(bottomRow, bottomRow + 1, leftCol, rightCol, leftCol - 1, rightCol + 1, c));//c.player\r\n            if (!jumps.length) {\r\n                singles = singles.concat(this.checkAdjacent(bottomRow, leftCol, rightCol, c));\r\n            }\r\n        }\r\n        //console.log(\"转拽驻抓 砖爪转 转  转砖专 专注\",singles);\r\n        /*\r\n        if (jumps.length){\r\n            console.log(\" 住驻专 :\",checker);\r\n            console.log(\"转拽驻抓 砖爪转 转 转 砖注\",jumps);\r\n        }\r\n        */\r\n        return {\r\n            singles: singles,\r\n            jumps: jumps\r\n        };\r\n    }\r\n    \r\n\r\n\r\n\r\n\r\n\r\n    \r\n    render(){\r\n       \r\n        return(\r\n            <div>\r\n                <h1>Welcome to checkers game!</h1>\r\n                <Board \r\n                board={this.state.board} \r\n                checkers={this.state.checkers} \r\n                selectSquare={this.selectSquare.bind(this)}\r\n                selectedSquare={this.state.selectedSquare}/>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}